---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/tutorial_colab.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/tutorial_colab.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#colab</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introduction">Introduction<a class="anchor-link" href="#Introduction"> </a></h2><p>In this tutorial we are going to complete an entire <code>nbdev</code>-based project from start to finish utilizing only <a href="colab.research.google.com">Google Colaboratory</a>, a free* alternative Jupyter environment with GPU capabilities. The goal is to set your project up in such a way that building, generating notebooks, testing, and setup is as seamless as possible inside their platform.</p>
<p>This tutorial is also available as a video, which you can watch below:</p>
<p>blah</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Why-Use-Google-Colaboratory?">Why Use Google Colaboratory?<a class="anchor-link" href="#Why-Use-Google-Colaboratory?"> </a></h2><p>Google Colaboratory offers a few unique advantages over other platforms in regards to the capabilities you can utilize:</p>
<ol>
<li><p>You can have synchronous programming within the same notebook</p>
<p>When working in a team or in a pair-programming situation, you both can have the exact same Jupyter notebook open and synchronously write comments or code within it when your project is based out of your Google Drive. Other platforms have only recently been testing this capability</p>
</li>
<li><p>Smaller projects that don't require git can still be utilized</p>
<p>There are certainly situations where perhaps you (or the company you work for) don't see the benefit yet in storing your code away in a repository. Simply keeping it in your Google Drive offers you this flexibility, while losing almost none of the benefits of GitHub.</p>
</li>
<li><p>It's free*</p>
<p>Whether you're a student or someone who worries about your GPU credits, Google Colaboratory has a free option for you to utilize both Jupyter and GPU's without requiring a credit card to get started. Recently Google has released a <a href="https://colab.research.google.com/signup">Colab Pro</a> option for $10/month (only for the US and Canada right now), which allows for better access to GPU's and an in-house terminal, but neither of these are truly needed to get you utilizing Colab for <code>nbdev</code> and your software engineering projects!</p>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Using-the-Template-Repository">Using the Template Repository<a class="anchor-link" href="#Using-the-Template-Repository"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's build a library!</p>
<p>The first step in beginning your new nbdev project should be to use the <a href="https://github.com/fastai/nbdev_template">nbdev_template</a> that fastai provides.</p>
<p>To start your project, select "Use this template":</p>
<p><img src="https://i.imgur.com/TNtaJvQ.jpg" alt="Use this template"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From there you will be asked for:</p>
<ol>
<li>A Repository name - for this tutorial we'll call it "nbdev_colab_tutorial"</li>
<li>Whether the repository will be public or private - for this tutorial use Public</li>
<li>After filling out the above fields select "Create repository from template"</li>
</ol>
<p><img src="https://i.imgur.com/uhlWiPe.jpg" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After a few seconds your repository should now be live.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The last step we need to complete for initializing our repository is filling out the <code>settings.ini</code> (You may have received an email notice stating that a run failed, this is why). Open it in your repository:</p>
<p><img src="https://i.imgur.com/I18OJmk.jpg" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We need to edit this file with everything that nbdev needs to be properly configured</p>
<blockquote><p>Read more on settings.ini <a href="https://nbdev.fast.ai/tutorial.html#Edit-settings.ini">here</a>
You'll see these commented out lines in <code>settings.ini</code>. Uncomment them, and set each value as needed.</p>
</blockquote>

<pre><code># lib_name = your_project_name
# user = your_github_username
# description = A description of your project
# keywords = some keywords
# author = Your Name
# author_email = email@example.com
# copyright = Your Name or Company Name</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Afterwards hit the "Commit changes" button at the bottom of the editor:</p>
<p><img src="https://i.imgur.com/qVqcIiH.jpg" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can get started over in Colab!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Setting-up-your-Google-Drive-and-Git-Configuration">Setting up your Google Drive and Git Configuration<a class="anchor-link" href="#Setting-up-your-Google-Drive-and-Git-Configuration"> </a></h2><p>For this next step we are going to take advantage of Colab's <a href="https://colab.research.google.com/notebooks/empty.ipynb">Scratchpad</a> notebook, as we're going to do a few housekeeping steps that don't need to be logged in a notebook somewhere.</p>
<p>First you should mount your Google Drive in your instance by running the following cell and following the prompt:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Mounted at /content/drive
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Your drive is now located at <code>/content/drive/MyDrive</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next we need to change our working directory into our Google Drive, as this is where our repository will get saved to and where we can setup git</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">cd</span> drive/MyDrive
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>/content/drive/MyDrive
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can clone our repository into our Drive:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>git clone https://github.com/<span class="o">{</span>insert_username_here<span class="o">}</span>/nbdev_colab_tutorial
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Cloning into &#39;nbdev_colab_tutorial&#39;...
remote: Enumerating objects: 25, done.
remote: Counting objects: 100% (25/25), done.
remote: Compressing objects: 100% (22/22), done.
remote: Total 25 (delta 3), reused 13 (delta 0), pack-reused 0
Unpacking objects: 100% (25/25), done.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We need to change directories again into our project:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">cd</span> nbdev_colab_tutorial
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>/content/drive/MyDrive/nbdev_colab_tutorial
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To let git know who we are, we need to run two bash commands:</p>
<ul>
<li><code>git config user.name</code></li>
<li><code>git config user.email</code></li>
</ul>
<p>Let's do so:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>git config user.name <span class="s2">&quot;Your name&quot;</span>
<span class="o">!</span>git config user.email <span class="s2">&quot;email@example.com&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lastly we need to export the template <code>00_core</code> notebook so that we have a module:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>nbdev_build_lib
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 00_core.ipynb.
Converted index.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The project has now been completely primed and is ready to be worked on</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Writing-a-New-Module-and-the-Setup-Cell-for-Each-Notebook">Writing a New Module and the Setup Cell for Each Notebook<a class="anchor-link" href="#Writing-a-New-Module-and-the-Setup-Cell-for-Each-Notebook"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To add in a new module or notebook to your library you should create a new Colab notebook through your Google Drive in whichever folder your notebooks are stored in.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From there all that is needed is for you to run a small cell that should be at the top of each notebook, setting up your Colab environment and performs the following setup steps:</p>
<ol>
<li>Mount Google Drive</li>
<li>Change to the library directory</li>
<li>Installs the library</li>
<li>Installs nbdev</li>
</ol>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
<span class="o">%</span><span class="k">cd</span> &#39;drive/MyDrive/{path_to_repository}/{library_name}&#39;
<span class="o">!</span>pip3 install -e . -q
<span class="o">!</span>pip3 install nbdev -q
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From there you can build your library following the <a href="https://nbdev.fast.ai/tutorial.html">tutorial</a>. Any changes you save in your notebook are reflected in your Google Drive, so you can always call <a href="/export2html.html#nbdev_build_lib"><code>nbdev_build_lib</code></a>, <code>_clean_nbs</code>, etc and have it function as expected.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Pushing-to-Git">Pushing to Git<a class="anchor-link" href="#Pushing-to-Git"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The last step is pushing our changes to GitHub. We can check in our files to our GitHub repo with the following commands:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>git add *
<span class="o">!</span>git commit -m <span class="s2">&quot;Test commit message&quot;</span>
<span class="o">!</span>git push origin master
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='If you have Colab Pro, use the terminal to push to git with the same bash commands' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And that's it! You now know how to run <code>nbdev</code> entirely out of your Google Drive and Google Colaboratory.</p>

</div>
</div>
</div>
</div>
 

